name: Add PR to project

on: [push]

jobs:
  move_to_in_progress:
    runs-on: ubuntu-latest
    
    steps:
      - name: Get project data
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          PROJECT_NUMBER: 6
        run: |
          gh api graphql -f query='
            query 
             repository(owner: "RhoderickGalero", name: "Practice") {
                projectV2(number: 6) {
                id
                items(first: 10) {
                    edges {
                        node {
                            id
                            content {
                                ... on Issue {
                                    id
                                    assignees(first: 10) {
                                        edges {
                                            node {
                                                id
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
          }
        }' > project_data.json 
